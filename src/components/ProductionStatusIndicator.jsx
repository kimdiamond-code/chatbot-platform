import React, { useState, useEffect } from 'react';\nimport { getProductionStatus } from '../utils/productionMode.js';\nimport { healthCheck } from '../services/supabase.js';\n\nconst ProductionStatusIndicator = ({ className = '' }) => {\n  const [status, setStatus] = useState(null);\n  const [healthStatus, setHealthStatus] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    checkStatus();\n    const interval = setInterval(checkStatus, 10000); // Check every 10 seconds\n    return () => clearInterval(interval);\n  }, []);\n\n  const checkStatus = async () => {\n    try {\n      const prodStatus = getProductionStatus();\n      const health = await healthCheck();\n      \n      setStatus(prodStatus);\n      setHealthStatus(health);\n      setLoading(false);\n    } catch (error) {\n      console.error('Status check failed:', error);\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className={`flex items-center space-x-2 ${className}`}>\n        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-pulse\"></div>\n        <span className=\"text-sm text-gray-500\">Checking...</span>\n      </div>\n    );\n  }\n\n  const isProduction = status?.isProduction;\n  const isDatabaseConnected = healthStatus?.status === 'healthy';\n\n  return (\n    <div className={`flex items-center space-x-2 ${className}`}>\n      {/* Mode Indicator */}\n      <div className={`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${\n        isProduction \n          ? 'bg-green-100 text-green-800' \n          : 'bg-yellow-100 text-yellow-800'\n      }`}>\n        <div className={`w-2 h-2 rounded-full ${\n          isProduction ? 'bg-green-500' : 'bg-yellow-500'\n        }`}></div>\n        <span>{isProduction ? 'Production' : 'Demo'}</span>\n      </div>\n\n      {/* Database Status */}\n      {isProduction && (\n        <div className={`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${\n          isDatabaseConnected \n            ? 'bg-blue-100 text-blue-800' \n            : 'bg-red-100 text-red-800'\n        }`}>\n          <div className={`w-2 h-2 rounded-full ${\n            isDatabaseConnected ? 'bg-blue-500' : 'bg-red-500'\n          }`}></div>\n          <span>{isDatabaseConnected ? 'DB Connected' : 'DB Error'}</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductionStatusIndicator;